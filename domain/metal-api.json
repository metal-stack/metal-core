{
  "swagger": "2.0",
  "info": {
    "description": "Resource for managing pure metal",
    "title": "metal-api",
    "contact": {
      "name": "Devops Team",
      "url": "http://www.f-i-ts.de",
      "email": "devops@f-i-ts.de"
    },
    "license": {
      "name": "MIT",
      "url": "http://mit.org"
    },
    "version": "1.0.0"
  },
  "paths": {
    "/v1/firewall": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "firewall"
        ],
        "summary": "get all known firewalls",
        "operationId": "listFirewalls",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/v1.FirewallResponse"
              }
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/firewall/allocate": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "firewall"
        ],
        "summary": "allocate a firewall",
        "operationId": "allocateFirewall",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.FirewallCreateRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.FirewallResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/firewall/find": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "firewall"
        ],
        "summary": "search firewalls",
        "operationId": "searchFirewall",
        "parameters": [
          {
            "type": "string",
            "description": "project that this firewall is allocated with",
            "name": "project",
            "in": "query"
          },
          {
            "type": "string",
            "description": "the partition in which the firewall is located",
            "name": "partition",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/v1.FirewallResponse"
              }
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/firewall/{id}": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "firewall"
        ],
        "summary": "get firewall by id",
        "operationId": "findFirewall",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the firewall",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.FirewallResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/health": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "health"
        ],
        "summary": "perform a healtcheck",
        "operationId": "health",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/rest.status"
            }
          },
          "500": {
            "description": "Unhealthy",
            "schema": {
              "$ref": "#/definitions/rest.status"
            }
          }
        }
      }
    },
    "/v1/image": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "image"
        ],
        "summary": "get all images",
        "operationId": "listImages",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/v1.ImageResponse"
              }
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "put": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "image"
        ],
        "summary": "create an image. if the given ID already exists a conflict is returned",
        "operationId": "createImage",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.ImageCreateRequest"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/v1.ImageResponse"
            }
          },
          "409": {
            "description": "Conflict",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "image"
        ],
        "summary": "updates an image. if the image was changed since this one was read, a conflict is returned",
        "operationId": "updateImage",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.ImageUpdateRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.ImageResponse"
            }
          },
          "409": {
            "description": "Conflict",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/image/{id}": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "image"
        ],
        "summary": "get image by id",
        "operationId": "findImage",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the image",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.ImageResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "delete": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "image"
        ],
        "summary": "deletes an image and returns the deleted entity",
        "operationId": "deleteImage",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the image",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.ImageResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/ip": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "ip"
        ],
        "summary": "get all ips",
        "operationId": "listIPs",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/v1.IPResponse"
              }
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "ip"
        ],
        "summary": "updates an ip. if the ip was changed since this one was read, a conflict is returned",
        "operationId": "updateIP",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.IPUpdateRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.IPResponse"
            }
          },
          "409": {
            "description": "Conflict",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/ip/allocate": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "ip"
        ],
        "summary": "allocate an ip in the given network for a project.",
        "operationId": "allocateIP",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.IPAllocateRequest"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/v1.IPResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/ip/allocate/{ip}": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "ip"
        ],
        "summary": "allocate an specific ip in the given network for a project.",
        "operationId": "allocateSpecificIP",
        "parameters": [
          {
            "type": "string",
            "description": "ip to try to allocate",
            "name": "ip",
            "in": "path",
            "required": true
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.IPAllocateRequest"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/v1.IPResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/ip/find": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "ip"
        ],
        "summary": "get all ips that match given properties",
        "operationId": "findIPs",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.FindIPsRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/v1.IPResponse"
              }
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/ip/{id}": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "ip"
        ],
        "summary": "get ip by id",
        "operationId": "findIP",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the ip",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.IPResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "delete": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "ip"
        ],
        "summary": "deletes an ip and returns the deleted entity",
        "operationId": "deleteIP",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the ip",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.IPResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "get all known machines",
        "operationId": "listMachines",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/v1.MachineResponse"
              }
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/allocate": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "allocate a machine",
        "operationId": "allocateMachine",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.MachineAllocateRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/find": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "search machines",
        "operationId": "findMachines",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.FindMachinesRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/v1.MachineResponse"
              }
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/liveliness": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "external trigger for evaluating machine liveliness",
        "operationId": "checkMachineLiveliness",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.EmptyBody"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineLivelinessReport"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/register": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "register a machine",
        "operationId": "registerMachine",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.MachineRegisterRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineResponse"
            }
          },
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/v1.MachineResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/{id}": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "get machine by id",
        "operationId": "findMachine",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the machine",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/{id}/chassis-identify-led-state": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "set the state of a chassis identify LED",
        "operationId": "setChassisIdentifyLEDState",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the machine",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.ChassisIdentifyLEDState"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/{id}/event": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "get the current machine provisioning event container",
        "operationId": "getProvisioningEventContainer",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the machine",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineRecentProvisioningEvents"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "adds a machine provisioning event",
        "operationId": "addProvisioningEvent",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the machine",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.MachineProvisioningEvent"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineRecentProvisioningEvents"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/{id}/finalize-allocation": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "finalize the allocation of the machine by reconfiguring the switch, sent on successful image installation",
        "operationId": "finalizeAllocation",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the machine",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.MachineFinalizeAllocationRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/{id}/free": {
      "delete": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "free a machine",
        "operationId": "freeMachine",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the machine",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/{id}/ipmi": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "returns the IPMI connection data for a machine",
        "operationId": "ipmiData",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the machine",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineIPMI"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/{id}/power/bios": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "boots machine into BIOS on next reboot",
        "operationId": "machineBios",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the machine",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.EmptyBody"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/{id}/power/chassis-identify-led-off/{description}": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "sends a power-off to the chassis identify LED",
        "operationId": "chassisIdentifyLEDOff",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the machine",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "description": "reason why the chassis identify LED should be turned off",
            "name": "description",
            "in": "path",
            "required": true
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.EmptyBody"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/{id}/power/chassis-identify-led-on": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "sends a power-on to the chassis identify LED",
        "operationId": "chassisIdentifyLEDOn",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the machine",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.EmptyBody"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/{id}/power/off": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "sends a power-off to the machine",
        "operationId": "machineOff",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the machine",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.EmptyBody"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/{id}/power/on": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "sends a power-on to the machine",
        "operationId": "machineOn",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the machine",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.EmptyBody"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/{id}/power/reset": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "sends a reset to the machine",
        "operationId": "machineReset",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the machine",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.EmptyBody"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/{id}/state": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "set the state of a machine",
        "operationId": "setMachineState",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the machine",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.MachineState"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/machine/{id}/wait": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "machine"
        ],
        "summary": "wait for an allocation of this machine",
        "operationId": "waitForAllocation",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the machine",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.MachineResponse"
            }
          },
          "504": {
            "description": "Timeout",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/network": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "network"
        ],
        "summary": "get all networks",
        "operationId": "listNetworks",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/v1.NetworkResponse"
              }
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "put": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "network"
        ],
        "summary": "create an network. if the given ID already exists a conflict is returned",
        "operationId": "createNetwork",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.NetworkCreateRequest"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/v1.NetworkResponse"
            }
          },
          "409": {
            "description": "Conflict",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "network"
        ],
        "summary": "updates an network. if the network was changed since this one was read, a conflict is returned",
        "operationId": "updateNetwork",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.NetworkUpdateRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.NetworkResponse"
            }
          },
          "409": {
            "description": "Conflict",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/network/find": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "network"
        ],
        "summary": "get all networks that match given properties",
        "operationId": "findNetworks",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.FindNetworksRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/v1.NetworkResponse"
              }
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/network/{id}": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "network"
        ],
        "summary": "get network by id",
        "operationId": "findNetwork",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the network",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.NetworkResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "delete": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "network"
        ],
        "summary": "deletes an network and returns the deleted entity",
        "operationId": "deleteNetwork",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the network",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.NetworkResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/partition": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Partition"
        ],
        "summary": "get all Partitions",
        "operationId": "listPartitions",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/v1.PartitionResponse"
              }
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "put": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Partition"
        ],
        "summary": "create a Partition. if the given ID already exists a conflict is returned",
        "operationId": "createPartition",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.PartitionCreateRequest"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/v1.PartitionResponse"
            }
          },
          "409": {
            "description": "Conflict",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Partition"
        ],
        "summary": "updates a Partition. if the Partition was changed since this one was read, a conflict is returned",
        "operationId": "updatePartition",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.PartitionUpdateRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.PartitionResponse"
            }
          },
          "409": {
            "description": "Conflict",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/partition/capacity": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Partition"
        ],
        "summary": "get Partition capacity",
        "operationId": "partitionCapacity",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/v1.PartitionCapacity"
              }
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/partition/{id}": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Partition"
        ],
        "summary": "get Partition by id",
        "operationId": "findPartition",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the Partition",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.PartitionResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "delete": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Partition"
        ],
        "summary": "deletes a Partition and returns the deleted entity",
        "operationId": "deletePartition",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the Partition",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.PartitionResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/size": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "size"
        ],
        "summary": "get all sizes",
        "operationId": "listSizes",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/v1.SizeResponse"
              }
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "put": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "size"
        ],
        "summary": "create a size. if the given ID already exists a conflict is returned",
        "operationId": "createSize",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.SizeCreateRequest"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/v1.SizeResponse"
            }
          },
          "409": {
            "description": "Conflict",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "size"
        ],
        "summary": "updates a size. if the size was changed since this one was read, a conflict is returned",
        "operationId": "updateSize",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.SizeUpdateRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.SizeResponse"
            }
          },
          "409": {
            "description": "Conflict",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/size/from-hardware": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "size"
        ],
        "summary": "Searches all sizes for one to match the given hardwarespecs. If nothing is found, a list of entries is returned which describe the constraint which did not match",
        "operationId": "fromHardware",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.MachineHardwareExtended"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.SizeMatchingLog"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/size/{id}": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "size"
        ],
        "summary": "get size by id",
        "operationId": "findSize",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the size",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.SizeResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "delete": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "size"
        ],
        "summary": "deletes an size and returns the deleted entity",
        "operationId": "deleteSize",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the size",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.SizeResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/switch": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "switch"
        ],
        "summary": "get all switches",
        "operationId": "listSwitches",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/v1.SwitchResponse"
              }
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/switch/register": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "switch"
        ],
        "summary": "register a switch",
        "operationId": "registerSwitch",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1.SwitchRegisterRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.SwitchResponse"
            }
          },
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/v1.SwitchResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/switch/{id}": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "switch"
        ],
        "summary": "get switch by id",
        "operationId": "findSwitch",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the switch",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.SwitchResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      },
      "delete": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "switch"
        ],
        "summary": "deletes an switch and returns the deleted entity",
        "operationId": "deleteSwitch",
        "parameters": [
          {
            "type": "string",
            "description": "identifier of the switch",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/v1.SwitchResponse"
            }
          },
          "default": {
            "description": "Error",
            "schema": {
              "$ref": "#/definitions/httperrors.HTTPErrorResponse"
            }
          }
        }
      }
    },
    "/v1/version": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "version"
        ],
        "summary": "returns the current version information of this module",
        "operationId": "info",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/rest.version"
            }
          }
        }
      }
    }
  },
  "definitions": {
    "httperrors.HTTPErrorResponse": {
      "required": [
        "statuscode",
        "message"
      ],
      "properties": {
        "message": {
          "description": "error message",
          "type": "string"
        },
        "statuscode": {
          "description": "http status code",
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "rest.status": {
      "required": [
        "message"
      ],
      "properties": {
        "message": {
          "type": "string"
        }
      }
    },
    "rest.version": {
      "required": [
        "name",
        "version",
        "builddate",
        "revision",
        "gitsha1"
      ],
      "properties": {
        "builddate": {
          "type": "string"
        },
        "gitsha1": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "revision": {
          "type": "string"
        },
        "version": {
          "type": "string"
        }
      }
    },
    "v1.BGPFilter": {
      "required": [
        "cidrs"
      ],
      "properties": {
        "cidrs": {
          "description": "the cidr addresses that are allowed to be announced at this switch port",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "vnis": {
          "description": "the virtual networks that are exposed at this switch port",
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "v1.ChassisIdentifyLEDState": {
      "required": [
        "value",
        "description"
      ],
      "properties": {
        "description": {
          "description": "a description why this chassis identify LED is in the given state",
          "type": "string"
        },
        "value": {
          "description": "the state of this chassis identify LED. empty means LED-ON",
          "type": "string"
        }
      }
    },
    "v1.EmptyBody": {},
    "v1.FindIPsRequest": {
      "description": "an ip address that can be attached to a machine",
      "required": [
        "ipaddress",
        "projectid",
        "networkprefix",
        "networkid",
        "machineid"
      ],
      "properties": {
        "ipaddress": {
          "description": "the address (ipv4 or ipv6) of this ip",
          "type": "string"
        },
        "machineid": {
          "description": "the machine this ip address belongs to, empty if not strong coupled",
          "type": "string"
        },
        "networkid": {
          "description": "the network this ip allocate request address belongs to",
          "type": "string"
        },
        "networkprefix": {
          "description": "the prefix of the network this ip address belongs to",
          "type": "string"
        },
        "projectid": {
          "description": "the project this ip address belongs to",
          "type": "string"
        }
      }
    },
    "v1.FindMachinesRequest": {
      "required": [
        "id",
        "name",
        "partition_id",
        "sizeid",
        "rackid",
        "liveliness",
        "tags",
        "allocation_name",
        "allocation_tenant",
        "allocation_project",
        "allocation_image_id",
        "allocation_hostname",
        "allocation_succeeded",
        "network_ids",
        "network_prefixes",
        "network_ips",
        "network_destination_prefixes",
        "network_vrfs",
        "network_primary",
        "network_asns",
        "network_nat",
        "network_underlay",
        "hardware_memory",
        "hardware_cpu_cores",
        "nics_mac_addresses",
        "nics_names",
        "nics_vrfs",
        "nics_neighbor_mac_addresses",
        "nics_neighbor_names",
        "nics_neighbor_vrfs",
        "disk_names",
        "disk_sizes",
        "state_value",
        "ipmi_address",
        "ipmi_mac_address",
        "ipmi_user",
        "ipmi_interface",
        "fru_chassis_part_number",
        "fru_chassis_part_serial",
        "fru_board_mfg",
        "fru_board_mfg_serial",
        "fru_board_part_number",
        "fru_product_manufacturer",
        "fru_product_part_number",
        "fru_product_serial"
      ],
      "properties": {
        "allocation_hostname": {
          "type": "string"
        },
        "allocation_image_id": {
          "type": "string"
        },
        "allocation_name": {
          "type": "string"
        },
        "allocation_project": {
          "type": "string"
        },
        "allocation_succeeded": {
          "type": "boolean"
        },
        "allocation_tenant": {
          "type": "string"
        },
        "disk_names": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "disk_sizes": {
          "type": "array",
          "items": {
            "type": "integer"
          }
        },
        "fru_board_mfg": {
          "type": "string"
        },
        "fru_board_mfg_serial": {
          "type": "string"
        },
        "fru_board_part_number": {
          "type": "string"
        },
        "fru_chassis_part_number": {
          "type": "string"
        },
        "fru_chassis_part_serial": {
          "type": "string"
        },
        "fru_product_manufacturer": {
          "type": "string"
        },
        "fru_product_part_number": {
          "type": "string"
        },
        "fru_product_serial": {
          "type": "string"
        },
        "hardware_cpu_cores": {
          "type": "integer",
          "format": "int64"
        },
        "hardware_memory": {
          "type": "integer",
          "format": "int64"
        },
        "id": {
          "type": "string"
        },
        "ipmi_address": {
          "type": "string"
        },
        "ipmi_interface": {
          "type": "string"
        },
        "ipmi_mac_address": {
          "type": "string"
        },
        "ipmi_user": {
          "type": "string"
        },
        "liveliness": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "network_asns": {
          "type": "array",
          "items": {
            "type": "integer"
          }
        },
        "network_destination_prefixes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "network_ids": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "network_ips": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "network_nat": {
          "type": "boolean"
        },
        "network_prefixes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "network_primary": {
          "type": "boolean"
        },
        "network_underlay": {
          "type": "boolean"
        },
        "network_vrfs": {
          "type": "array",
          "items": {
            "type": "integer"
          }
        },
        "nics_mac_addresses": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "nics_names": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "nics_neighbor_mac_addresses": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "nics_neighbor_names": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "nics_neighbor_vrfs": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "nics_vrfs": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "partition_id": {
          "type": "string"
        },
        "rackid": {
          "type": "string"
        },
        "sizeid": {
          "type": "string"
        },
        "state_value": {
          "type": "string"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "v1.FindNetworksRequest": {
      "required": [
        "id",
        "name",
        "partitionid",
        "projectid",
        "prefixes",
        "destinationprefixes",
        "nat",
        "primary",
        "underlay",
        "vrf",
        "parentnetworkid",
        "tenantid"
      ],
      "properties": {
        "destinationprefixes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "nat": {
          "type": "boolean"
        },
        "parentnetworkid": {
          "type": "string"
        },
        "partitionid": {
          "type": "string"
        },
        "prefixes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "primary": {
          "type": "boolean"
        },
        "projectid": {
          "type": "string"
        },
        "tenantid": {
          "type": "string"
        },
        "underlay": {
          "type": "boolean"
        },
        "vrf": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "v1.FirewallCreateRequest": {
      "required": [
        "partitionid",
        "projectid",
        "sizeid",
        "tenant",
        "ssh_pub_keys",
        "imageid"
      ],
      "properties": {
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "ha": {
          "description": "if set to true, this firewall is set up in a High Available manner",
          "type": "boolean"
        },
        "hostname": {
          "description": "the hostname for the allocated machine (defaults to metal)",
          "type": "string"
        },
        "imageid": {
          "description": "the image id to assign this machine to",
          "type": "string"
        },
        "ips": {
          "description": "the ips to attach to this machine additionally",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "networks": {
          "description": "the networks that this machine will be placed in.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.MachineAllocationNetwork"
          }
        },
        "partitionid": {
          "description": "the partition id to assign this machine to",
          "type": "string"
        },
        "projectid": {
          "description": "the project id to assign this machine to",
          "type": "string"
        },
        "sizeid": {
          "description": "the size id to assign this machine to",
          "type": "string"
        },
        "ssh_pub_keys": {
          "description": "the public ssh keys to access the machine with",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "tags": {
          "description": "tags for this machine",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "tenant": {
          "description": "the name of the owning tenant",
          "type": "string"
        },
        "user_data": {
          "description": "cloud-init.io compatible userdata must be base64 encoded",
          "type": "string"
        },
        "uuid": {
          "description": "if this field is set, this specific machine will be allocated if it is not in available state and not currently allocated. this field overrules size and partition",
          "type": "string"
        }
      }
    },
    "v1.FirewallResponse": {
      "required": [
        "ledstate",
        "liveliness",
        "events",
        "changed",
        "partition",
        "size",
        "allocation",
        "id",
        "state",
        "hardware",
        "rackid",
        "tags",
        "created"
      ],
      "properties": {
        "allocation": {
          "description": "the allocation data of an allocated machine",
          "$ref": "#/definitions/v1.MachineAllocation"
        },
        "changed": {
          "description": "the last changed timestamp of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "created": {
          "description": "the creation time of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "events": {
          "description": "recent events of this machine during provisioning",
          "$ref": "#/definitions/v1.MachineRecentProvisioningEvents"
        },
        "hardware": {
          "description": "the hardware of this machine",
          "$ref": "#/definitions/v1.MachineHardware"
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "ledstate": {
          "description": "the state of this chassis identify LED",
          "$ref": "#/definitions/v1.ChassisIdentifyLEDState"
        },
        "liveliness": {
          "description": "the liveliness of this machine",
          "type": "string"
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "partition": {
          "description": "the partition assigned to this machine",
          "$ref": "#/definitions/v1.PartitionResponse",
          "readOnly": true
        },
        "rackid": {
          "description": "the rack assigned to this machine",
          "type": "string",
          "readOnly": true
        },
        "size": {
          "description": "the size of this machine",
          "$ref": "#/definitions/v1.SizeResponse",
          "readOnly": true
        },
        "state": {
          "description": "the state of this machine",
          "$ref": "#/definitions/v1.MachineState"
        },
        "tags": {
          "description": "tags for this machine",
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "v1.IPAllocateRequest": {
      "required": [
        "projectid",
        "networkid"
      ],
      "properties": {
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "networkid": {
          "description": "the network this ip allocate request address belongs to",
          "type": "string"
        },
        "projectid": {
          "description": "the project this ip address belongs to",
          "type": "string"
        }
      }
    },
    "v1.IPResponse": {
      "required": [
        "projectid",
        "networkid",
        "ipaddress",
        "machineid",
        "created",
        "changed"
      ],
      "properties": {
        "changed": {
          "description": "the last changed timestamp of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "created": {
          "description": "the creation time of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "ipaddress": {
          "description": "the address (ipv4 or ipv6) of this ip",
          "type": "string",
          "uniqueItems": true
        },
        "machineid": {
          "description": "the machine this ip address belongs to, empty if not strong coupled",
          "type": "string"
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "networkid": {
          "description": "the network this ip allocate request address belongs to",
          "type": "string"
        },
        "projectid": {
          "description": "the project this ip address belongs to",
          "type": "string"
        }
      }
    },
    "v1.IPUpdateRequest": {
      "required": [
        "ipaddress",
        "machineid"
      ],
      "properties": {
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "ipaddress": {
          "description": "the address (ipv4 or ipv6) of this ip",
          "type": "string",
          "uniqueItems": true
        },
        "machineid": {
          "description": "the machine this ip address belongs to, empty if not strong coupled",
          "type": "string"
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        }
      }
    },
    "v1.ImageCreateRequest": {
      "required": [
        "id",
        "url"
      ],
      "properties": {
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "features": {
          "description": "features of this image",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "url": {
          "description": "the url of this image",
          "type": "string"
        }
      }
    },
    "v1.ImageResponse": {
      "required": [
        "id",
        "created",
        "changed"
      ],
      "properties": {
        "changed": {
          "description": "the last changed timestamp of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "created": {
          "description": "the creation time of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "features": {
          "description": "features of this image",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "url": {
          "description": "the url of this image",
          "type": "string"
        }
      }
    },
    "v1.ImageUpdateRequest": {
      "required": [
        "id"
      ],
      "properties": {
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "features": {
          "description": "features of this image",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "url": {
          "description": "the url of this image",
          "type": "string"
        }
      }
    },
    "v1.MachineAllocateRequest": {
      "required": [
        "tenant",
        "projectid",
        "partitionid",
        "sizeid",
        "imageid",
        "ssh_pub_keys"
      ],
      "properties": {
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "hostname": {
          "description": "the hostname for the allocated machine (defaults to metal)",
          "type": "string"
        },
        "imageid": {
          "description": "the image id to assign this machine to",
          "type": "string"
        },
        "ips": {
          "description": "the ips to attach to this machine additionally",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "networks": {
          "description": "the networks that this machine will be placed in.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.MachineAllocationNetwork"
          }
        },
        "partitionid": {
          "description": "the partition id to assign this machine to",
          "type": "string"
        },
        "projectid": {
          "description": "the project id to assign this machine to",
          "type": "string"
        },
        "sizeid": {
          "description": "the size id to assign this machine to",
          "type": "string"
        },
        "ssh_pub_keys": {
          "description": "the public ssh keys to access the machine with",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "tags": {
          "description": "tags for this machine",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "tenant": {
          "description": "the name of the owning tenant",
          "type": "string"
        },
        "user_data": {
          "description": "cloud-init.io compatible userdata must be base64 encoded",
          "type": "string"
        },
        "uuid": {
          "description": "if this field is set, this specific machine will be allocated if it is not in available state and not currently allocated. this field overrules size and partition",
          "type": "string"
        }
      }
    },
    "v1.MachineAllocation": {
      "required": [
        "created",
        "name",
        "tenant",
        "project",
        "networks",
        "hostname",
        "ssh_pub_keys",
        "succeeded"
      ],
      "properties": {
        "console_password": {
          "description": "the console password which was generated while provisioning",
          "type": "string"
        },
        "created": {
          "description": "the time when the machine was created",
          "type": "string",
          "format": "date-time"
        },
        "description": {
          "description": "a description for this machine",
          "type": "string"
        },
        "hostname": {
          "description": "the hostname which will be used when creating the machine",
          "type": "string"
        },
        "image": {
          "description": "the image assigned to this machine",
          "$ref": "#/definitions/v1.ImageResponse",
          "readOnly": true
        },
        "name": {
          "description": "the name of the machine",
          "type": "string"
        },
        "networks": {
          "description": "the networks of this machine",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.MachineNetwork"
          }
        },
        "project": {
          "description": "the project that this machine is assigned to",
          "type": "string"
        },
        "ssh_pub_keys": {
          "description": "the public ssh keys to access the machine with",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "succeeded": {
          "description": "if the allocation of the machine was successful, this is set to true",
          "type": "boolean"
        },
        "tenant": {
          "description": "the tenant that this machine is assigned to",
          "type": "string"
        },
        "user_data": {
          "description": "userdata to execute post installation tasks",
          "type": "string"
        }
      }
    },
    "v1.MachineAllocationNetwork": {
      "required": [
        "networkid",
        "autoacquire"
      ],
      "properties": {
        "autoacquire": {
          "description": "will automatically acquire an ip in this network if set to true, default is true",
          "type": "boolean"
        },
        "networkid": {
          "description": "the id of the network that this machine will be placed in",
          "type": "string"
        }
      }
    },
    "v1.MachineBlockDevice": {
      "required": [
        "name",
        "size"
      ],
      "properties": {
        "name": {
          "description": "the name of this block device",
          "type": "string"
        },
        "size": {
          "description": "the size of this block device",
          "type": "integer"
        }
      }
    },
    "v1.MachineFinalizeAllocationRequest": {
      "required": [
        "console_password"
      ],
      "properties": {
        "console_password": {
          "description": "the console password which was generated while provisioning",
          "type": "string"
        }
      }
    },
    "v1.MachineFru": {
      "description": "The Field Replaceable Unit data",
      "properties": {
        "board_mfg": {
          "description": "the board mfg",
          "type": "string"
        },
        "board_mfg_serial": {
          "description": "the board mfg serial",
          "type": "string"
        },
        "board_part_number": {
          "description": "the board part number",
          "type": "string"
        },
        "chassis_part_number": {
          "description": "the chassis part number",
          "type": "string"
        },
        "chassis_part_serial": {
          "description": "the chassis part serial",
          "type": "string"
        },
        "product_manufacturer": {
          "description": "the product manufacturer",
          "type": "string"
        },
        "product_part_number": {
          "description": "the product part number",
          "type": "string"
        },
        "product_serial": {
          "description": "the product serial",
          "type": "string"
        }
      }
    },
    "v1.MachineHardware": {
      "required": [
        "memory",
        "cpu_cores",
        "disks",
        "nics"
      ],
      "properties": {
        "cpu_cores": {
          "description": "the number of cpu cores",
          "type": "integer",
          "format": "int32"
        },
        "disks": {
          "description": "the list of block devices of this machine",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.MachineBlockDevice"
          }
        },
        "memory": {
          "description": "the total memory of the machine",
          "type": "integer"
        },
        "nics": {
          "description": "the list of network interfaces of this machine",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.MachineNic"
          }
        }
      }
    },
    "v1.MachineHardwareExtended": {
      "required": [
        "disks",
        "memory",
        "cpu_cores",
        "nics"
      ],
      "properties": {
        "cpu_cores": {
          "description": "the number of cpu cores",
          "type": "integer",
          "format": "int32"
        },
        "disks": {
          "description": "the list of block devices of this machine",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.MachineBlockDevice"
          }
        },
        "memory": {
          "description": "the total memory of the machine",
          "type": "integer"
        },
        "nics": {
          "description": "the list of network interfaces of this machine with extended information",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.MachineNicExtended"
          }
        }
      }
    },
    "v1.MachineIPMI": {
      "description": "The IPMI connection data",
      "required": [
        "address",
        "mac",
        "user",
        "password",
        "interface",
        "fru"
      ],
      "properties": {
        "address": {
          "type": "string"
        },
        "fru": {
          "$ref": "#/definitions/v1.MachineFru"
        },
        "interface": {
          "type": "string"
        },
        "mac": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "user": {
          "type": "string"
        }
      }
    },
    "v1.MachineLivelinessReport": {
      "required": [
        "alive_count",
        "dead_count",
        "unknown_count"
      ],
      "properties": {
        "alive_count": {
          "description": "the number of machines alive",
          "type": "integer",
          "format": "int32"
        },
        "dead_count": {
          "description": "the number of dead machines",
          "type": "integer",
          "format": "int32"
        },
        "unknown_count": {
          "description": "the number of machines with unknown liveliness",
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "v1.MachineNetwork": {
      "description": "prefixes that are reachable within this network",
      "required": [
        "networkid",
        "prefixes",
        "ips",
        "vrf",
        "asn",
        "primary",
        "nat",
        "destinationprefixes",
        "underlay"
      ],
      "properties": {
        "asn": {
          "description": "ASN number for this network in the bgp configuration",
          "type": "integer",
          "format": "int64"
        },
        "destinationprefixes": {
          "description": "the destination prefixes of this network",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "ips": {
          "description": "the ip addresses of the allocated machine in this vrf",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "nat": {
          "description": "if set to true, packets leaving this network get masqueraded behind interface ip",
          "type": "boolean"
        },
        "networkid": {
          "description": "the networkID of the allocated machine in this vrf",
          "type": "string"
        },
        "prefixes": {
          "description": "the prefixes of this network",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "primary": {
          "description": "indicates whether this network is the primary network of this machine",
          "type": "boolean"
        },
        "underlay": {
          "description": "if set to true, this network can be used for underlay communication",
          "type": "boolean"
        },
        "vrf": {
          "description": "the vrf of the allocated machine",
          "type": "integer",
          "format": "integer"
        }
      }
    },
    "v1.MachineNic": {
      "required": [
        "mac",
        "name"
      ],
      "properties": {
        "mac": {
          "description": "the mac address of this network interface",
          "type": "string"
        },
        "name": {
          "description": "the name of this network interface",
          "type": "string"
        }
      }
    },
    "v1.MachineNicExtended": {
      "required": [
        "name",
        "mac",
        "neighbors"
      ],
      "properties": {
        "mac": {
          "description": "the mac address of this network interface",
          "type": "string"
        },
        "name": {
          "description": "the name of this network interface",
          "type": "string"
        },
        "neighbors": {
          "description": "the neighbors visible to this network interface",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.MachineNicExtended"
          }
        }
      }
    },
    "v1.MachineProvisioningEvent": {
      "required": [
        "event"
      ],
      "properties": {
        "event": {
          "description": "the event emitted by the machine",
          "type": "string"
        },
        "message": {
          "description": "an additional message to add to the event",
          "type": "string"
        },
        "time": {
          "description": "the time that this event was received",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        }
      }
    },
    "v1.MachineRecentProvisioningEvents": {
      "required": [
        "log",
        "last_event_time",
        "incomplete_provisioning_cycles"
      ],
      "properties": {
        "incomplete_provisioning_cycles": {
          "description": "the amount of incomplete provisioning cycles in the event container",
          "type": "string"
        },
        "last_event_time": {
          "description": "the time where the last event was received",
          "type": "string",
          "format": "date-time"
        },
        "log": {
          "description": "the log of recent machine provisioning events",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.MachineProvisioningEvent"
          }
        }
      }
    },
    "v1.MachineRegisterRequest": {
      "required": [
        "uuid",
        "partitionid",
        "rackid",
        "hardware",
        "ipmi",
        "tags"
      ],
      "properties": {
        "hardware": {
          "description": "the hardware of this machine",
          "$ref": "#/definitions/v1.MachineHardwareExtended"
        },
        "ipmi": {
          "description": "the ipmi access infos",
          "$ref": "#/definitions/v1.MachineIPMI"
        },
        "partitionid": {
          "description": "the partition id to register this machine with",
          "type": "string"
        },
        "rackid": {
          "description": "the rack id where this machine is connected to",
          "type": "string"
        },
        "tags": {
          "description": "tags for this machine",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "uuid": {
          "description": "the product uuid of the machine to register",
          "type": "string"
        }
      }
    },
    "v1.MachineResponse": {
      "required": [
        "id",
        "state",
        "ledstate",
        "events",
        "tags",
        "partition",
        "size",
        "hardware",
        "allocation",
        "liveliness",
        "rackid",
        "created",
        "changed"
      ],
      "properties": {
        "allocation": {
          "description": "the allocation data of an allocated machine",
          "$ref": "#/definitions/v1.MachineAllocation"
        },
        "changed": {
          "description": "the last changed timestamp of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "created": {
          "description": "the creation time of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "events": {
          "description": "recent events of this machine during provisioning",
          "$ref": "#/definitions/v1.MachineRecentProvisioningEvents"
        },
        "hardware": {
          "description": "the hardware of this machine",
          "$ref": "#/definitions/v1.MachineHardware"
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "ledstate": {
          "description": "the state of this chassis identify LED",
          "$ref": "#/definitions/v1.ChassisIdentifyLEDState"
        },
        "liveliness": {
          "description": "the liveliness of this machine",
          "type": "string"
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "partition": {
          "description": "the partition assigned to this machine",
          "$ref": "#/definitions/v1.PartitionResponse",
          "readOnly": true
        },
        "rackid": {
          "description": "the rack assigned to this machine",
          "type": "string",
          "readOnly": true
        },
        "size": {
          "description": "the size of this machine",
          "$ref": "#/definitions/v1.SizeResponse",
          "readOnly": true
        },
        "state": {
          "description": "the state of this machine",
          "$ref": "#/definitions/v1.MachineState"
        },
        "tags": {
          "description": "tags for this machine",
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "v1.MachineState": {
      "required": [
        "value",
        "description"
      ],
      "properties": {
        "description": {
          "description": "a description why this machine is in the given state",
          "type": "string"
        },
        "value": {
          "description": "the state of this machine. empty means available for all",
          "type": "string"
        }
      }
    },
    "v1.NetworkCreateRequest": {
      "required": [
        "id",
        "prefixes",
        "destinationprefixes",
        "nat",
        "primary",
        "underlay",
        "parentnetworkid"
      ],
      "properties": {
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "destinationprefixes": {
          "description": "the destination prefixes of this network",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "id": {
          "description": "the unique ID of this entity, auto-generated if left empty",
          "type": "string",
          "uniqueItems": true
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "nat": {
          "description": "if set to true, packets leaving this network get masqueraded behind interface ip",
          "type": "boolean"
        },
        "parentnetworkid": {
          "description": "the id of the parent network",
          "type": "string"
        },
        "partitionid": {
          "description": "the partition this network belongs to",
          "type": "string"
        },
        "prefixes": {
          "description": "the prefixes of this network",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "primary": {
          "description": "if set to true, a subnetwork of this network is attached to a machine/firewall, there can only be one primary network per partition",
          "type": "boolean"
        },
        "projectid": {
          "description": "the project this network belongs to, can be empty if globally available",
          "type": "string"
        },
        "underlay": {
          "description": "if set to true, this network can be used for underlay communication",
          "type": "boolean"
        },
        "vrf": {
          "description": "the vrf this network is associated with",
          "type": "integer",
          "format": "integer"
        }
      }
    },
    "v1.NetworkResponse": {
      "required": [
        "id",
        "prefixes",
        "destinationprefixes",
        "nat",
        "primary",
        "underlay",
        "parentnetworkid",
        "usage",
        "created",
        "changed"
      ],
      "properties": {
        "changed": {
          "description": "the last changed timestamp of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "created": {
          "description": "the creation time of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "destinationprefixes": {
          "description": "the destination prefixes of this network",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "nat": {
          "description": "if set to true, packets leaving this network get masqueraded behind interface ip",
          "type": "boolean"
        },
        "parentnetworkid": {
          "description": "the id of the parent network",
          "type": "string"
        },
        "partitionid": {
          "description": "the partition this network belongs to",
          "type": "string"
        },
        "prefixes": {
          "description": "the prefixes of this network",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "primary": {
          "description": "if set to true, a subnetwork of this network is attached to a machine/firewall, there can only be one primary network per partition",
          "type": "boolean"
        },
        "projectid": {
          "description": "the project this network belongs to, can be empty if globally available",
          "type": "string"
        },
        "underlay": {
          "description": "if set to true, this network can be used for underlay communication",
          "type": "boolean"
        },
        "usage": {
          "description": "usage of ips and prefixes in this network",
          "$ref": "#/definitions/v1.NetworkUsage"
        },
        "vrf": {
          "description": "the vrf this network is associated with",
          "type": "integer",
          "format": "integer"
        }
      }
    },
    "v1.NetworkUpdateRequest": {
      "required": [
        "id"
      ],
      "properties": {
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "prefixes": {
          "description": "the prefixes of this network",
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "v1.NetworkUsage": {
      "required": [
        "available_ips",
        "used_ips",
        "available_prefixes",
        "used_prefixes"
      ],
      "properties": {
        "available_ips": {
          "description": "the total available IPs",
          "type": "integer"
        },
        "available_prefixes": {
          "description": "the total available Prefixes",
          "type": "integer"
        },
        "used_ips": {
          "description": "the total used IPs",
          "type": "integer"
        },
        "used_prefixes": {
          "description": "the total used Prefixes",
          "type": "integer"
        }
      }
    },
    "v1.PartitionBootConfiguration": {
      "description": "a partition has a distinct location in a data center, individual entities belong to a partition",
      "properties": {
        "commandline": {
          "description": "the cmdline to the kernel for the boot image",
          "type": "string"
        },
        "imageurl": {
          "description": "the url to download the initrd for the boot image",
          "type": "string"
        },
        "kernelurl": {
          "description": "the url to download the kernel for the boot image",
          "type": "string"
        }
      }
    },
    "v1.PartitionCapacity": {
      "required": [
        "id",
        "servers"
      ],
      "properties": {
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "servers": {
          "description": "servers available in this partition",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.ServerCapacity"
          }
        }
      }
    },
    "v1.PartitionCreateRequest": {
      "required": [
        "id",
        "bootconfig"
      ],
      "properties": {
        "bootconfig": {
          "description": "the boot configuration of this partition",
          "$ref": "#/definitions/v1.PartitionBootConfiguration"
        },
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "mgmtserviceaddress": {
          "description": "the address to the management service of this partition",
          "type": "string"
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "projectnetworkprefixlength": {
          "description": "the length of project networks for this partition, default 22",
          "type": "integer",
          "format": "int32",
          "maximum": 30,
          "minimum": 16
        }
      }
    },
    "v1.PartitionResponse": {
      "required": [
        "id",
        "bootconfig",
        "changed",
        "created"
      ],
      "properties": {
        "bootconfig": {
          "description": "the boot configuration of this partition",
          "$ref": "#/definitions/v1.PartitionBootConfiguration"
        },
        "changed": {
          "description": "the last changed timestamp of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "created": {
          "description": "the creation time of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "mgmtserviceaddress": {
          "description": "the address to the management service of this partition",
          "type": "string"
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "projectnetworkprefixlength": {
          "description": "the length of project networks for this partition, default 22",
          "type": "integer",
          "format": "int32",
          "maximum": 30,
          "minimum": 16
        }
      }
    },
    "v1.PartitionUpdateRequest": {
      "required": [
        "id"
      ],
      "properties": {
        "bootconfig": {
          "description": "the boot configuration of this partition",
          "$ref": "#/definitions/v1.PartitionBootConfiguration"
        },
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "mgmtserviceaddress": {
          "description": "the address to the management service of this partition",
          "type": "string"
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        }
      }
    },
    "v1.ServerCapacity": {
      "required": [
        "size",
        "total",
        "free"
      ],
      "properties": {
        "free": {
          "description": "free servers with this size",
          "type": "integer",
          "format": "int32"
        },
        "size": {
          "description": "the size of the server",
          "type": "string"
        },
        "total": {
          "description": "total amount of servers with this size",
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "v1.SizeConstraint": {
      "description": "a machine matches to a size in order to make them easier to categorize",
      "required": [
        "type",
        "min",
        "max"
      ],
      "properties": {
        "max": {
          "description": "the maximum value of the constraint",
          "type": "integer"
        },
        "min": {
          "description": "the minimum value of the constraint",
          "type": "integer"
        },
        "type": {
          "description": "the type of the constraint",
          "type": "string",
          "enum": [
            "cores",
            "memory",
            "storage"
          ]
        }
      }
    },
    "v1.SizeConstraintMatchingLog": {
      "required": [
        "constraint",
        "match",
        "log"
      ],
      "properties": {
        "constraint": {
          "description": "the size constraint to which this log relates to",
          "$ref": "#/definitions/v1.SizeConstraint"
        },
        "log": {
          "description": "a string represention of the matching condition",
          "type": "string"
        },
        "match": {
          "description": "indicates whether the constraint matched or not",
          "type": "boolean"
        }
      }
    },
    "v1.SizeCreateRequest": {
      "required": [
        "id",
        "constraints"
      ],
      "properties": {
        "constraints": {
          "description": "a list of constraints that defines this size",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.SizeConstraint"
          }
        },
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        }
      }
    },
    "v1.SizeMatchingLog": {
      "required": [
        "name",
        "log",
        "match",
        "constraints"
      ],
      "properties": {
        "constraints": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.SizeConstraintMatchingLog"
          }
        },
        "log": {
          "type": "string"
        },
        "match": {
          "type": "boolean"
        },
        "name": {
          "type": "string"
        }
      }
    },
    "v1.SizeResponse": {
      "required": [
        "id",
        "constraints",
        "created",
        "changed"
      ],
      "properties": {
        "changed": {
          "description": "the last changed timestamp of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "constraints": {
          "description": "a list of constraints that defines this size",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.SizeConstraint"
          }
        },
        "created": {
          "description": "the creation time of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        }
      }
    },
    "v1.SizeUpdateRequest": {
      "required": [
        "id"
      ],
      "properties": {
        "constraints": {
          "description": "a list of constraints that defines this size",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.SizeConstraint"
          }
        },
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        }
      }
    },
    "v1.SwitchConnection": {
      "required": [
        "nic"
      ],
      "properties": {
        "machine_id": {
          "description": "the machine id of the machine connected to the nic",
          "type": "string"
        },
        "nic": {
          "description": "a network interface on the switch",
          "$ref": "#/definitions/v1.SwitchNic"
        }
      }
    },
    "v1.SwitchNic": {
      "required": [
        "mac",
        "name"
      ],
      "properties": {
        "filter": {
          "description": "configures the bgp filter applied at the switch port",
          "$ref": "#/definitions/v1.BGPFilter"
        },
        "mac": {
          "description": "the mac address of this network interface",
          "type": "string"
        },
        "name": {
          "description": "the name of this network interface",
          "type": "string"
        },
        "vrf": {
          "description": "the vrf this network interface is part of",
          "type": "string"
        }
      }
    },
    "v1.SwitchRegisterRequest": {
      "required": [
        "id",
        "nics",
        "partition_id",
        "rack_id"
      ],
      "properties": {
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "nics": {
          "description": "the list of network interfaces on the switch",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.SwitchNic"
          }
        },
        "partition_id": {
          "description": "the partition in which this switch is located",
          "type": "string"
        },
        "rack_id": {
          "description": "the id of the rack in which this switch is located",
          "type": "string"
        }
      }
    },
    "v1.SwitchResponse": {
      "required": [
        "id",
        "rack_id",
        "nics",
        "partition",
        "connections",
        "created",
        "changed"
      ],
      "properties": {
        "changed": {
          "description": "the last changed timestamp of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "connections": {
          "description": "a connection between a switch port and a machine",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.SwitchConnection"
          }
        },
        "created": {
          "description": "the creation time of this entity",
          "type": "string",
          "format": "date-time",
          "readOnly": true
        },
        "description": {
          "description": "a description for this entity",
          "type": "string"
        },
        "id": {
          "description": "the unique ID of this entity",
          "type": "string",
          "uniqueItems": true
        },
        "name": {
          "description": "a readable name for this entity",
          "type": "string"
        },
        "nics": {
          "description": "the list of network interfaces on the switch",
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1.SwitchNic"
          }
        },
        "partition": {
          "description": "the partition in which this switch is located",
          "$ref": "#/definitions/v1.PartitionResponse"
        },
        "rack_id": {
          "description": "the id of the rack in which this switch is located",
          "type": "string"
        }
      }
    }
  },
  "securityDefinitions": {
    "HMAC": {
      "description": "Generate a 'Authorization: Metal xxxx' header where 'xxxx' is a HMAC generated by the Request-Date, the Request-Method and the Body",
      "type": "apiKey",
      "name": "Authorization",
      "in": "header"
    },
    "jwt": {
      "description": "Add a 'Authorization: Bearer ....' header to the request",
      "type": "apiKey",
      "name": "Authorization",
      "in": "header"
    }
  },
  "security": [
    {
      "Authorization": [
        "HMAC",
        "jwt"
      ]
    }
  ],
  "tags": [
    {
      "description": "Managing image entities",
      "name": "image"
    },
    {
      "description": "Managing network entities",
      "name": "network"
    },
    {
      "description": "Managing ip entities",
      "name": "ip"
    },
    {
      "description": "Managing size entities",
      "name": "size"
    },
    {
      "description": "Managing machines",
      "name": "machine"
    },
    {
      "description": "Managing switches",
      "name": "switch"
    }
  ]
}
